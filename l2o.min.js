(function(t){function r(){}function e(t){return t}function n(t,r){return t>r?1:r>t?-1:0}function u(t,r){return t===r}function o(t){return""+t}function i(t,r,e,n){this.keySelector=t,this.comparer=r,this.descending=e,this.next=n}var f="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(t=global),exports),s={internals:{}},a="Sequence contains no elements.",c="Invalid operation",l=Array.prototype.slice,h={}.hasOwnProperty,v=s.internals.inherits=function(t,r){function e(){this.constructor=t}for(var n in r)"prototype"!==n&&h.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.super_=r.prototype,t},m=s.Enumerator=function(t,r,e){this.moveNext=t,this.getCurrent=r,this.dispose=e},g=m.create=function(t,e,n){var u=!1;return n||(n=r),new m(function(){if(u)return!1;var r=t();return r||(u=!0,n()),r},function(){return e()},function(){u||(n(),u=!0)})},p=s.Enumerable=function(){function t(t){this.getEnumerator=t}function r(t,r,n){n||(n=e);var u=t,o=this.getEnumerator(),i=0;try{for(;o.moveNext();)u=r(u,o.getCurrent(),i++,this)}finally{o.dispose()}return n?n(u):u}function n(t){var r,e=this.getEnumerator(),n=0;try{if(!e.moveNext())throw Error(a);for(r=e.getCurrent();e.moveNext();)r=t(r,e.getCurrent(),n++,this)}catch(u){throw u}finally{e.dispose()}return r}function i(t,r){r||(r=u);for(var e=this.length;e--;)if(r(this[e],t))return e;return-1}function f(t,r){var e=i.call(this,t,r);return-1===e?!1:(this.splice(e,1),!0)}var s=t.prototype;return s.aggregate=function(){var t=1===arguments.length?n:r;return t.apply(this,arguments)},s.reduce=function(){return 2===arguments.length?r.call(this,arguments[1],arguments[0]):n.apply(this,arguments)},s.all=s.every=function(t,r){var e=this.getEnumerator(),n=0;try{for(;e.moveNext();)if(!t.call(r,e.getCurrent(),n++,this))return!1}catch(u){throw u}finally{e.dispose()}return!0},s.every=s.all,s.any=function(t,r){var e=this.getEnumerator(),n=0;try{for(;e.moveNext();)if(!t||t.call(r,e.getCurrent(),n++,this))return!0}catch(u){throw u}finally{e.dispose()}return!1},s.some=s.any,s.average=function(t){if(t)return this.select(t).average();var r=this.getEnumerator(),e=0,n=0;try{for(;r.moveNext();)e++,n+=r.getCurrent()}catch(u){throw u}finally{r.dispose()}if(0===e)throw Error(a);return n/e},s.concat=function(){var t=l.call(arguments,0);return t.unshift(this),y.apply(null,t)},s.contains=function(t,r){r||(r=u);var e=this.getEnumerator();try{for(;e.moveNext();)if(r(t,e.getCurrent()))return!0}catch(n){throw n}finally{e.dispose()}return!1},s.count=function(t,r){var e=0,n=0,u=this.getEnumerator();try{for(;u.moveNext();)(!t||t.call(r,u.getCurrent(),n++,this))&&e++}catch(o){throw o}finally{u.dispose()}return e},s.defaultIfEmpty=function(r){var e=this;return new t(function(){var t,n,u=!0,o=!1;return g(function(){return n||(n=e.getEnumerator()),o?!1:u?(u=!1,n.moveNext()?(t=n.getCurrent(),!0):(t=r,o=!0,!0)):n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n&&n.dispose()})})},s.distinct=function(r){r||(r=u);var e=this;return new t(function(){var t,n,u=[];return g(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;if(t=n.getCurrent(),-1===i.call(u,t,r))return u.push(t),!0}},function(){return t},function(){n.dispose()})})},s.elementAt=function(t){return this.skip(t).first()},s.elementAtOrDefault=function(t){return this.skip(t).firstOrDefault()},s.except=function(r,e){e||(e=u);var n=this;return new t(function(){var t,u,o=[],f=r.getEnumerator();try{for(;f.moveNext();)o.push(f.getCurrent())}catch(s){throw s}finally{f.dispose()}return g(function(){for(u||(u=n.getEnumerator());;){if(!u.moveNext())return!1;if(t=u.getCurrent(),-1===i.call(o,t,e))return o.push(t),!0}},function(){return t},function(){u&&u.dispose()})})},s.first=function(t){var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(!t||t(e))return e}}catch(n){throw n}finally{r.dispose()}throw Error(a)},s.firstOrDefault=function(t){var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(!t||t(e))return e}}catch(n){throw n}finally{r.dispose()}return null},s.forEach=function(t,r){var e=this.getEnumerator(),n=0;try{for(;e.moveNext();)t.call(r,e.getCurrent(),n++,this)}catch(e){throw e}finally{e.dispose()}},s.groupBy=function(r,n,u,i){n||(n=e),i||(i=o);var f=this;return new t(function(){var t,e,o,s,a,c,l={},h=[],v=0,m=f.getEnumerator();try{for(;m.moveNext();)o=m.getCurrent(),s=r(o),a=i(s),l[a]||(l[a]=[],h.push(a)),c=n(o),l[a].push(c)}finally{m.dispose()}return g(function(){var r;return h.length>v?(e=h[v++],r=E(l[e]),u?t=u(e,r):(r.key=e,t=r),!0):!1},function(){return t})})},s.intersect=function(r,e){e||(e=u);var n=this;return new t(function(){var t,u,o=[],i=n.getEnumerator();try{for(;i.moveNext();)o.push(i.getCurrent())}finally{i.dispose()}return g(function(){for(u||(u=r.getEnumerator());;){if(!u.moveNext())return!1;if(t=u.getCurrent(),f.call(o,t,e))return!0}},function(){return t},function(){u&&u.dispose()})})},s.last=function(t){var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!t||t(u))&&(e=!0,r=u)}}finally{n.dispose()}if(e)return r;throw Error(a)},s.lastOrDefault=function(t){var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!t||t(u))&&(e=!0,r=u)}}finally{n.dispose()}return e?r:null},s.max=function(t){if(t)return this.select(t).max();var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?u>r&&(r=u):(r=u,e=!0)}}finally{n.dispose()}if(!e)throw Error(a);return r},s.min=function(t){if(t)return this.select(t).min();var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?r>u&&(r=u):(r=u,e=!0)}}finally{n.dispose()}if(!e)throw Error(a);return r},s.orderBy=function(t,r){return new x(this,t,r,!1)},s.orderByDescending=function(t,r){return new x(this,t,r,!0)},s.reverse=function(){var t=[],r=this.getEnumerator();try{for(;r.moveNext();)t.unshift(r.getCurrent())}finally{r.dispose()}return E(t)},s.select=function(r){var e=this;return new t(function(){var t,n,u=0;return g(function(){return n||(n=e.getEnumerator()),n.moveNext()?(t=r(n.getCurrent(),u++),!0):!1},function(){return t},function(){n.dispose()})})},s.selectMany=function(r,e){var n=this;return new t(function(){var t,u,o;return g(function(){for(u||(u=n.getEnumerator());;){if(!o){if(!u.moveNext())return!1;o=r(u.getCurrent()).getEnumerator()}if(o.moveNext()){if(t=o.getCurrent(),e){var i=u.getCurrent();t=e(i,t)}return!0}o.dispose(),o=null}},function(){return t},function(){o&&o.dispose(),u&&u.dispose()})})},t.sequenceEqual=function(t,r,e){return t.sequenceEqual(r,e)},s.sequenceEqual=function(t,r){r||(r=u);var e=this.getEnumerator(),n=t.getEnumerator();try{for(;e.moveNext();)if(!n.moveNext()||!r(e.getCurrent(),n.getCurrent()))return!1;return n.moveNext()?!1:!0}finally{e.dispose(),n.dispose()}},s.single=function(t){if(t)return this.where(t).single();var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(r.moveNext())throw Error(c);return e}}finally{r.dispose()}throw Error(a)},s.singleOrDefault=function(t){if(t)return this.where(t).single();var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(r.moveNext())throw Error(c);return e}}finally{r.dispose()}return null},s.skip=function(r){var e=this;return new t(function(){var t,n,u=!1;return g(function(){if(n||(n=e.getEnumerator()),!u){for(var o=0;r>o;o++)if(!n.moveNext())return!1;u=!0}return n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n.dispose()})})},s.skipWhile=function(r){var e=this;return new t(function(){var t,n,u=!1;return g(function(){if(n||(n=e.getEnumerator()),!u){for(;;){if(!n.moveNext())return!1;if(!r(n.getCurrent()))return t=n.getCurrent(),!0}u=!0}return n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n.dispose()})})},s.sum=function(t){if(t)return this.select(t).sum();var r=0,e=this.getEnumerator();try{for(;e.moveNext();)r+=e.getCurrent()}finally{e.dispose()}return r},s.take=function(r){var e=this;return new t(function(){var t,n,u=r;return g(function(){return n||(n=e.getEnumerator()),0===u?!1:n.moveNext()?(u--,t=n.getCurrent(),!0):(u=0,!1)},function(){return t},function(){n.dispose()})})},s.takeWhile=function(r){var e=this;return new t(function(){var t,n,u=0;return g(function(){return n||(n=e.getEnumerator()),n.moveNext()?(t=n.getCurrent(),r(t,u++)?!0:!1):!1},function(){return t},function(){n.dispose()})})},s.toArray=function(){var t=[],r=this.getEnumerator();try{for(;r.moveNext();)t.push(r.getCurrent());return t}finally{r.dispose()}},s.where=function(r){var e=this;return new t(function(){var t,n,u=0;return g(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;if(t=n.getCurrent(),r(t,u++))return!0}},function(){return t},function(){n.dispose()})})},s.union=function(t,r){r||(r=u);var e=this;return d(function(){var n,u,o=[],f=!1,s=!1;return g(function(){for(;;){if(!u){if(s)return!1;f?(u=t.getEnumerator(),s=!0):(u=e.getEnumerator(),f=!0)}if(u.moveNext()){if(n=u.getCurrent(),-1===i.call(o,n,r))return o.push(n),!0}else u.dispose(),u=null}},function(){return n},function(){u&&u.dispose()})})},s.zip=function(r,e){var n=this;return new t(function(){var t,u,o;return g(function(){return t||u||(t=n.getEnumerator(),u=r.getEnumerator()),t.moveNext()&&u.moveNext()?(o=e(t.getCurrent(),u.getCurrent()),!0):!1},function(){return o},function(){t.dispose(),u.dispose()})})},t}(),y=p.concat=function(){return E(arguments).selectMany(e)},d=p.create=function(t){return new p(t)};p.empty=function(){return new p(function(){return g(function(){return!1},function(){throw Error(a)})})};var E=p.fromArray=function(t){return new p(function(){var r,e=0;return g(function(){return t.length>e?(r=t[e++],!0):!1},function(){return r})})};p.returnValue=function(t){return new p(function(){var r=!1;return g(function(){return r?!1:r=!0},function(){return t})})},p.range=function(t,r){return new p(function(){var e=t-1,n=t+r-1;return g(function(){return n>e?(e++,!0):!1},function(){return e})})},p.repeat=function(t,r){return new p(function(){var e=null==r?-1:r,n=null!=r;return g(function(){return 0!==e?(n&&e--,!0):!1},function(){return t})})},i.prototype={computeKeys:function(t,r){this.keys=Array(r);for(var e=0;r>e;e++)this.keys[e]=this.keySelector(t[e]);this.next&&this.next.computeKeys(t,r)},compareKeys:function(t,r){var e=this.comparer(this.keys[t],this.keys[r]);return 0===e?null==this.next?t-r:this.next.compareKeys(t,r):this.descending?-e:e},sort:function(t,r){this.computeKeys(t,r);for(var e=Array(r),n=0;r>n;n++)e[n]=n;return this.quickSort(e,0,r-1),e},quickSort:function(t,r,e){do{var n=r,u=e,o=t[n+(u-n>>1)];do{for(;t.length>n&&this.compareKeys(o,t[n])>0;)n++;for(;u>=0&&0>this.compareKeys(o,t[u]);)u--;if(n>u)break;if(u>n){var i=t[n];t[n]=t[u],t[u]=i}n++,u--}while(u>=n);e-n>=u-r?(u>r&&this.quickSort(t,r,u),r=n):(e>n&&this.quickSort(t,n,e),e=u)}while(e>r)}};var x=function(){function t(t,r,u,o){this.source=t,this.keySelector=r||e,this.comparer=u||n,this.descending=o}v(t,p);var r=t.prototype;return r.getEnumerableSorter=function(t){var r=new i(this.keySelector,this.comparer,this.descending,t);return null!=this.parent&&(r=this.parent.getEnumerableSorter(r)),r},r.createOrderedEnumerable=function(r,e,n){var u=new t(this.source,r,e,n);return u.parent=this,u},r.getEnumerator=function(){var t,r=this.source.toArray(),e=r.length,n=this.getEnumerableSorter(),u=n.sort(r,e),o=0;return g(function(){return e>o?(t=r[u[o++]],!0):!1},function(){return t})},r.thenBy=function(t){return this.createOrderedEnumerable(t,null,!1)},r.thenByDescending=function(t,r){return this.createOrderedEnumerable(t,r,!1)},t}();return"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.Ix=s,define(function(){return s})):(f?"object"==typeof module&&module&&module.exports==f?module.exports=s:f=s:t.Ix=s,undefined)})(this);