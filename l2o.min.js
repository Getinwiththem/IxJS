(function(t,r){function e(){}function n(t){return t}function u(t,r){return t>r?1:r>t?-1:0}function o(t,r){return t===r}function i(t,r,e){e||(e=o);for(var n=0,u=t.length;u>n;n++)if(e(t[n],r))return n;return-1}function s(t,r,e,n){this.keySelector=t,this.comparer=r,this.descending=e,this.next=n}var a="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(t=global),exports),f={internals:{}},c="Sequence contains no elements.",h="Invalid operation",l=Array.prototype.slice,v={}.hasOwnProperty,m=f.internals.inherits=function(t,r){function e(){this.constructor=t}for(var n in r)"prototype"!==n&&v.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.super_=r.prototype,t},g=function(){function t(t){this.comparer=t||o,this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){var e=i(this.keys,t,this.comparer);return-1!==e?this.values[e]:r},e.set=function(t,r){var e=i(this.keys,t,this.comparer);-1===e?(this.keys.push(t),this.values.push(r)):this.values[e]=r},e.has=function(t){return-1!==i(this.keys,t,this.comparer)},e["delete"]=function(t){var r=i(this.keys,t,this.comparer);-1!==r&&(this.keys.splice(r,1),this.values.splice(r,1))},t}(),p=f.Enumerator=function(t,r,e){this.moveNext=t,this.getCurrent=r,this.dispose=e},y=p.create=function(t,r,n){var u=!1;return n||(n=e),new p(function(){if(u)return!1;var r=t();return r||(u=!0,n()),r},function(){return r()},function(){u||(n(),u=!0)})},d=f.Enumerable=function(){function t(t){this.getEnumerator=t}function r(t,r,e){e||(e=n);var u=t,o=this.getEnumerator(),i=0;try{for(;o.moveNext();)u=r(u,o.getCurrent(),i++,this)}finally{o.dispose()}return e?e(u):u}function e(t){var r,e=this.getEnumerator(),n=0;try{if(!e.moveNext())throw Error(c);for(r=e.getCurrent();e.moveNext();)r=t(r,e.getCurrent(),n++,this)}catch(u){throw u}finally{e.dispose()}return r}function u(t,r){r||(r=o);for(var e=this.length;e--;)if(r(this[e],t))return e;return-1}function i(t,r){var e=u.call(this,t,r);return-1===e?!1:(this.splice(e,1),!0)}var s=t.prototype;return s.aggregate=function(){var t=1===arguments.length?e:r;return t.apply(this,arguments)},s.reduce=function(){return 2===arguments.length?r.call(this,arguments[1],arguments[0]):e.apply(this,arguments)},s.all=s.every=function(t,r){var e=this.getEnumerator(),n=0;try{for(;e.moveNext();)if(!t.call(r,e.getCurrent(),n++,this))return!1}catch(u){throw u}finally{e.dispose()}return!0},s.every=s.all,s.any=function(t,r){var e=this.getEnumerator(),n=0;try{for(;e.moveNext();)if(!t||t.call(r,e.getCurrent(),n++,this))return!0}catch(u){throw u}finally{e.dispose()}return!1},s.some=s.any,s.average=function(t){if(t)return this.select(t).average();var r=this.getEnumerator(),e=0,n=0;try{for(;r.moveNext();)e++,n+=r.getCurrent()}catch(u){throw u}finally{r.dispose()}if(0===e)throw Error(c);return n/e},s.concat=function(){var t=l.call(arguments,0);return t.unshift(this),E.apply(null,t)},s.contains=function(t,r){r||(r=o);var e=this.getEnumerator();try{for(;e.moveNext();)if(r(t,e.getCurrent()))return!0}catch(n){throw n}finally{e.dispose()}return!1},s.count=function(t,r){var e=0,n=0,u=this.getEnumerator();try{for(;u.moveNext();)(!t||t.call(r,u.getCurrent(),n++,this))&&e++}catch(o){throw o}finally{u.dispose()}return e},s.defaultIfEmpty=function(r){var e=this;return new t(function(){var t,n,u=!0,o=!1;return y(function(){return n||(n=e.getEnumerator()),o?!1:u?(u=!1,n.moveNext()?(t=n.getCurrent(),!0):(t=r,o=!0,!0)):n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n&&n.dispose()})})},s.distinct=function(r){r||(r=o);var e=this;return new t(function(){var t,n,o=[];return y(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;var i=n.getCurrent();if(-1===u.call(o,i,r))return t=i,o.push(t),!0}},function(){return t},function(){n&&n.dispose()})})},s.elementAt=function(t){return this.skip(t).first()},s.elementAtOrDefault=function(t){return this.skip(t).firstOrDefault()},s.except=function(r,e){e||(e=o);var n=this;return new t(function(){var t,o,i=[],s=r.getEnumerator();try{for(;s.moveNext();)i.push(s.getCurrent())}catch(a){throw a}finally{s.dispose()}return y(function(){for(o||(o=n.getEnumerator());;){if(!o.moveNext())return!1;if(t=o.getCurrent(),-1===u.call(i,t,e))return i.push(t),!0}},function(){return t},function(){o&&o.dispose()})})},s.first=function(t){var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(!t||t(e))return e}}catch(n){throw n}finally{r.dispose()}throw Error(c)},s.firstOrDefault=function(t){var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(!t||t(e))return e}}catch(n){throw n}finally{r.dispose()}return null},s.forEach=function(t,r){var e=this.getEnumerator(),n=0;try{for(;e.moveNext();)t.call(r,e.getCurrent(),n++,this)}catch(e){throw e}finally{e.dispose()}},s.groupBy=function(r,e,u,i){e||(e=n),i||(i=o);var s=this;return new t(function(){var t,n,o,a,f,c=new g(i),h=[],l=0,v=s.getEnumerator();try{for(;v.moveNext();)o=v.getCurrent(),a=r(o),c.has(a)||(c.set(a,[]),h.push(a)),f=e(o),c.get(a).push(f)}catch(m){throw m}finally{v.dispose()}return y(function(){var r;return h.length>l?(n=h[l++],r=w(c.get(n)),u?t=u(n,r):(r.key=n,t=r),!0):!1},function(){return t})})},s.intersect=function(r,e){e||(e=o);var n=this;return new t(function(){var t,u,o=[],s=r.getEnumerator();try{for(;s.moveNext();)o.push(s.getCurrent())}catch(a){throw a}finally{s.dispose()}return y(function(){for(u||(u=n.getEnumerator());;){if(!u.moveNext())return!1;var r=u.getCurrent();if(i.call(o,r,e))return t=r,!0}},function(){return t},function(){u&&u.dispose()})})},s.last=function(t){var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!t||t(u))&&(e=!0,r=u)}}catch(o){throw o}finally{n.dispose()}if(e)return r;throw Error(c)},s.lastOrDefault=function(t){var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!t||t(u))&&(e=!0,r=u)}}catch(o){throw o}finally{n.dispose()}return e?r:null},s.max=function(t){if(t)return this.select(t).max();var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?u>r&&(r=u):(r=u,e=!0)}}catch(o){throw o}finally{n.dispose()}if(!e)throw Error(c);return r},s.min=function(t){if(t)return this.select(t).min();var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?r>u&&(r=u):(r=u,e=!0)}}catch(o){throw o}finally{n.dispose()}if(!e)throw Error(c);return r},s.orderBy=function(t,r){return new N(this,t,r,!1)},s.orderByDescending=function(t,r){return new N(this,t,r,!0)},s.reverse=function(){var t=[],r=this.getEnumerator();try{for(;r.moveNext();)t.unshift(r.getCurrent())}catch(e){throw e}finally{r.dispose()}return w(t)},s.select=function(r,e){var n=this;return new t(function(){var t,u,o=0;return y(function(){return u||(u=n.getEnumerator()),u.moveNext()?(t=r.call(e,u.getCurrent(),o++,n),!0):!1},function(){return t},function(){u&&u.dispose()})})},s.map=s.select,s.selectMany=function(r,e){var n=this;return new t(function(){var t,u,o,i=0;return y(function(){for(u||(u=n.getEnumerator());;){if(!o){if(!u.moveNext())return!1;o=r(u.getCurrent(),i++).getEnumerator()}if(o.moveNext()){if(t=o.getCurrent(),e){var s=u.getCurrent();t=e(s,t)}return!0}o.dispose(),o=null}},function(){return t},function(){o&&o.dispose(),u&&u.dispose()})})},t.sequenceEqual=function(t,r,e){return t.sequenceEqual(r,e)},s.sequenceEqual=function(t,r){r||(r=o);var e=this.getEnumerator(),n=t.getEnumerator();try{for(;e.moveNext();)if(!n.moveNext()||!r(e.getCurrent(),n.getCurrent()))return!1;return n.moveNext()?!1:!0}catch(u){throw u}finally{e.dispose(),n.dispose()}},s.single=function(t){if(t)return this.where(t).single();var r=this.getEnumerator();try{if(!r.moveNext())throw Error(c);var e=r.getCurrent();if(r.moveNext())throw Error(h);return e}catch(n){throw n}finally{r.dispose()}},s.singleOrDefault=function(t){if(t)return this.where(t).single();var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(r.moveNext())throw Error(h);return e}}finally{r.dispose()}return null},s.skip=function(r){var e=this;return new t(function(){var t,n,u=!1;return y(function(){if(n||(n=e.getEnumerator()),!u){for(var o=0;r>o;o++)if(!n.moveNext())return!1;u=!0}return n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n&&n.dispose()})})},s.skipWhile=function(r,e){var n=this;return new t(function(){var t,u,o=!1,i=0;return y(function(){if(u||(u=n.getEnumerator()),!o){for(;;){if(!u.moveNext())return!1;if(!r.call(e,u.getCurrent(),i++,n))return t=u.getCurrent(),!0}o=!0}return u.moveNext()?(t=u.getCurrent(),!0):!1},function(){return t},function(){u&&u.dispose()})})},s.sum=function(t){if(t)return this.select(t).sum();var r=0,e=this.getEnumerator();try{for(;e.moveNext();)r+=e.getCurrent()}finally{e.dispose()}return r},s.take=function(r){var e=this;return new t(function(){var t,n,u=r;return y(function(){return n||(n=e.getEnumerator()),0===u?!1:n.moveNext()?(u--,t=n.getCurrent(),!0):(u=0,!1)},function(){return t},function(){n&&n.dispose()})})},s.takeWhile=function(r,e){var n=this;return new t(function(){var t,u,o=0;return y(function(){return u||(u=n.getEnumerator()),u.moveNext()?(t=u.getCurrent(),r.call(e,t,o++,n)?!0:!1):!1},function(){return t},function(){u&&u.dispose()})})},s.toArray=function(){var t=[],r=this.getEnumerator();try{for(;r.moveNext();)t.push(r.getCurrent());return t}finally{r.dispose()}},s.where=function(r,e){var n=this;return new t(function(){var t,u,o=0;return y(function(){for(u||(u=n.getEnumerator());;){if(!u.moveNext())return!1;if(t=u.getCurrent(),r.call(e,t,o++,n))return!0}},function(){return t},function(){u.dispose()})})},s.union=function(t,r){r||(r=o);var e=this;return x(function(){var n,o,i=[],s=!1,a=!1;return y(function(){for(;;){if(!o){if(a)return!1;s?(o=t.getEnumerator(),a=!0):(o=e.getEnumerator(),s=!0)}if(o.moveNext()){if(n=o.getCurrent(),-1===u.call(i,n,r))return i.push(n),!0}else o.dispose(),o=null}},function(){return n},function(){o&&o.dispose()})})},s.zip=function(r,e){var n=this;return new t(function(){var t,u,o;return y(function(){return t||u||(t=n.getEnumerator(),u=r.getEnumerator()),t.moveNext()&&u.moveNext()?(o=e(t.getCurrent(),u.getCurrent()),!0):!1},function(){return o},function(){t.dispose(),u.dispose()})})},t}(),E=d.concat=function(){return w(arguments).selectMany(n)},x=d.create=function(t){return new d(t)};d.empty=function(){return new d(function(){return y(function(){return!1},function(){throw Error(c)})})};var w=d.fromArray=function(t){return new d(function(){var r,e=0;return y(function(){return t.length>e?(r=t[e++],!0):!1},function(){return r})})};d.returnValue=function(t){return new d(function(){var r=!1;return y(function(){return r?!1:r=!0},function(){return t})})},d.range=function(t,r){return new d(function(){var e=t-1,n=t+r-1;return y(function(){return n>e?(e++,!0):!1},function(){return e})})},d.repeat=function(t,r){return new d(function(){var e=null==r?-1:r,n=null!=r;return y(function(){return 0!==e?(n&&e--,!0):!1},function(){return t})})},s.prototype={computeKeys:function(t,r){this.keys=Array(r);for(var e=0;r>e;e++)this.keys[e]=this.keySelector(t[e]);this.next&&this.next.computeKeys(t,r)},compareKeys:function(t,r){var e=this.comparer(this.keys[t],this.keys[r]);return 0===e?null==this.next?t-r:this.next.compareKeys(t,r):this.descending?-e:e},sort:function(t,r){this.computeKeys(t,r);for(var e=Array(r),n=0;r>n;n++)e[n]=n;return this.quickSort(e,0,r-1),e},quickSort:function(t,r,e){do{var n=r,u=e,o=t[n+(u-n>>1)];do{for(;t.length>n&&this.compareKeys(o,t[n])>0;)n++;for(;u>=0&&0>this.compareKeys(o,t[u]);)u--;if(n>u)break;if(u>n){var i=t[n];t[n]=t[u],t[u]=i}n++,u--}while(u>=n);e-n>=u-r?(u>r&&this.quickSort(t,r,u),r=n):(e>n&&this.quickSort(t,n,e),e=u)}while(e>r)}};var N=function(){function t(t,r,e,o){this.source=t,this.keySelector=r||n,this.comparer=e||u,this.descending=o}m(t,d);var r=t.prototype;return r.getEnumerableSorter=function(t){var r=new s(this.keySelector,this.comparer,this.descending,t);return null!=this.parent&&(r=this.parent.getEnumerableSorter(r)),r},r.createOrderedEnumerable=function(r,e,n){var u=new t(this.source,r,e,n);return u.parent=this,u},r.getEnumerator=function(){var t,r=this.source.toArray(),e=r.length,n=this.getEnumerableSorter(),u=n.sort(r,e),o=0;return y(function(){return e>o?(t=r[u[o++]],!0):!1},function(){return t})},r.thenBy=function(t){return this.createOrderedEnumerable(t,null,!1)},r.thenByDescending=function(t,r){return this.createOrderedEnumerable(t,r,!1)},t}();return"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.Ix=f,define(function(){return f})):(a?"object"==typeof module&&module&&module.exports==a?module.exports=f:a=f:t.Ix=f,r)})(this);